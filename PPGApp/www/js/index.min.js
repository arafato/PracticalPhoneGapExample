(function(n,t){var i;i=window.cordova?"http://howtowat.ch/api/1/find/recent":"http://localhost:8888/recent.json",n.vm={items:ko.observableArray([]),msg:ko.observable(""),getRecent:function(){n.vm.msg("Loading"),n.vm.items.removeAll(),t.ajax({url:i,dataType:"json",success:function(i){t.each(i.MediaResults,function(t,i){n.vm.items.push(i)}),n.vm.msg("Found "+n.vm.items().length+" Result(s)")},error:function(){n.vm.msg("Failed to load data")}})}},n.init=function(){ko.applyBindings(n.vm);var t=!0;window.cordova&&navigator.connection&&navigator.connection.type&&navigator.connection.type===Connection.NONE&&(t=!1,vm.index.msg("No Connection Available")),t&&n.vm.getRecent()}})(window.index=window.index||{},$);